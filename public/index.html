<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>GitMortem Explorer</title>
<style>
  body {
    font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Arial, sans-serif;
    background:#0d1117;
    color:#c9d1d9;
    padding:16px;
  }

  .container {
    max-width: 960px;
    margin: 0 auto;
  }

  h2 {
    margin-bottom: 4px;
  }
  p {
    margin-top: 0;
    margin-bottom: 12px;
    font-size: 13px;
    color:#8b949e;
  }

  input {
    width: 70%;
    padding: 8px 10px;
    border-radius: 6px;
    border:1px solid #30363d;
    background:#161b22;
    color:#fff;
    font-size: 14px;
  }
  button {
    padding: 8px 14px;
    border-radius: 6px;
    border:none;
    cursor:pointer;
    font-size: 13px;
    font-weight: 600;
  }
  #load-btn {
    background:#238636;
    color:#fff;
    margin-left:6px;
  }
  #load-btn:hover {
    background:#2ea44f;
  }

  .card {
    background:#0d1117;
    border:1px solid #30363d;
    border-radius: 10px;
    padding:10px 12px;
    margin-top:12px;
  }

  .card-header {
    display:flex;
    align-items:center;
    justify-content:space-between;
    margin-bottom:6px;
    font-size:13px;
  }

  .card-title {
    font-weight:600;
  }

  .card-actions {
    display:flex;
    gap:6px;
  }

  .icon-btn {
    background:#161b22;
    border:1px solid #30363d;
    border-radius:6px;
    padding:3px 7px;
    font-size:13px;
    line-height:1;
  }
  .icon-btn:hover {
    background:#21262d;
  }

  .icon-btn.merge {
    border-color:#ff7675;
    color:#ff7675;
  }

  #status {
    font-size:12px;
    color:#8b949e;
    margin-top:4px;
  }

  .panel-container {
    max-width: 100%;
  }

 #tree {
    max-height: none;
    overflow: visible;
 }

  .folder-panel {
    margin-bottom:10px;
    padding:8px 10px;
    background:#161b22;
    border-radius: 8px;
    border:1px solid #30363d;
  }

  .folder-panel-title {
    font-size:13px;
    margin-bottom:4px;
  }

  .folder-panel pre {
    margin:0;
    font-family: "SFMono-Regular", Consolas, monospace;
    font-size:12px;
    line-height:1.3;
    white-space: pre-wrap;
    word-break: break-all;
  }

  .file-link {
    color:#58a6ff;
    cursor:pointer;
  }
  .file-link:hover {
    text-decoration:underline;
  }

  #preview-box {
    min-height: 120px;
    background:#161b22;
    border-radius:8px;
    border:1px solid #30363d;
    padding:8px 10px;
    font-size:12px;
    overflow:auto;
    max-height: 420px;
  }

  #preview-box pre {
    margin:0;
    white-space:pre-wrap;
    word-break:break-word;
  }

  @media (max-width: 540px) {
    input {
      width:100%;
      margin-bottom:8px;
    }
    #load-btn {
      margin-left:0;
      width:100%;
      margin-top:4px;
    }
  }
</style>

<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.7.0/styles/github-dark.min.css">
</head>

<body>
<div class="container">
  <h2>ðŸš€ GitMortem Explorer</h2>
  <p>Upper panel = AI ke liye folder-wise tree with links, Neeche = file / folder code preview.</p>

  <div>
    <input type="text" id="repo-url" placeholder="https://github.com/temproj/Respread">
    <button id="load-btn">Generate Tree</button>
  </div>
  <div id="status">Waitingâ€¦</div>

  <!-- Tree Card -->
  <div class="card">
    <div class="card-header">
      <span class="card-title">ðŸ“‚ Repo Tree (Copy for AI)</span>
      <div class="card-actions">
        <button class="icon-btn" id="copy-tree-btn" title="Copy whole tree for AI">ðŸ“‹</button>
      </div>
    </div>
    <div class="panel-container">
      <div id="tree"></div>
    </div>
  </div>

  <!-- Preview Card -->
  <div class="card">
    <div class="card-header">
      <span class="card-title">ðŸ“„ File / Folder Preview</span>
      <div class="card-actions">
        <button class="icon-btn" id="copy-preview-btn" title="Copy preview text">ðŸ“‹</button>
      </div>
    </div>
    <div id="preview-box">Select a file from tree aboveâ€¦</div>
  </div>
</div>

<script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.7.0/highlight.min.js"></script>
<script src="app.js"></script>
</body>
</html>
